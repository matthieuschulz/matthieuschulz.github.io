{"expireTime":9007200854737761000,"key":"transformer-remark-markdown-ast-13298daa3abcaf990d70b101028ce193-gatsby-remark-embeddergatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-imagesgatsby-plugin-social-banners-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"link","url":"#How-It-Works","title":null,"children":[],"data":{"hProperties":{"aria-label":"How It Works permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How It Works?","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":17,"offset":17},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":17,"offset":17},"indent":[]},"data":{"id":"How-It-Works","htmlAttributes":{"id":"How-It-Works"},"hProperties":{"id":"How-It-Works"}}},{"type":"paragraph","children":[{"type":"text","value":"These Creatures are based on ","position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":30,"offset":48},"indent":[]}},{"type":"link","title":null,"url":"https://www.red3d.com/cwr/index.html","children":[{"type":"text","value":"Craig Reynold's","position":{"start":{"line":4,"column":31,"offset":49},"end":{"line":4,"column":46,"offset":64},"indent":[]}}],"position":{"start":{"line":4,"column":30,"offset":48},"end":{"line":4,"column":85,"offset":103},"indent":[]}},{"type":"text","value":" Steering Behaviors and ","position":{"start":{"line":4,"column":85,"offset":103},"end":{"line":4,"column":109,"offset":127},"indent":[]}},{"type":"link","title":null,"url":"https://www.red3d.com/cwr/boids/","children":[{"type":"text","value":"Flocking System","position":{"start":{"line":4,"column":110,"offset":128},"end":{"line":4,"column":125,"offset":143},"indent":[]}}],"position":{"start":{"line":4,"column":109,"offset":127},"end":{"line":4,"column":160,"offset":178},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":160,"offset":178},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It also implements Genetic Algorithm and mutations.","position":{"start":{"line":6,"column":1,"offset":180},"end":{"line":6,"column":52,"offset":231},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":180},"end":{"line":6,"column":52,"offset":231},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can learn more about them on Daniel Shiffman's YouTube Channel ","position":{"start":{"line":8,"column":1,"offset":233},"end":{"line":8,"column":68,"offset":300},"indent":[]}},{"type":"link","title":null,"url":"https://www.youtube.com/user/shiffman","children":[{"type":"text","value":"The Coding Train","position":{"start":{"line":8,"column":69,"offset":301},"end":{"line":8,"column":85,"offset":317},"indent":[]}}],"position":{"start":{"line":8,"column":68,"offset":300},"end":{"line":8,"column":125,"offset":357},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":233},"end":{"line":8,"column":125,"offset":357},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.youtube.com/watch?v=flxOkx0yLrY&t=1223s","children":[{"type":"text","value":"Coding Challenge #69.1: Evolutionary Steering Behaviors","position":{"start":{"line":10,"column":4,"offset":362},"end":{"line":10,"column":59,"offset":417},"indent":[]}}],"position":{"start":{"line":10,"column":3,"offset":361},"end":{"line":10,"column":113,"offset":471},"indent":[]}}],"position":{"start":{"line":10,"column":3,"offset":361},"end":{"line":10,"column":113,"offset":471},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":359},"end":{"line":10,"column":113,"offset":471},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.youtube.com/watch?v=mhjuuHl6qHM&t=1978s","children":[{"type":"text","value":"Coding Challenge #124: Flocking Simulation","position":{"start":{"line":11,"column":4,"offset":475},"end":{"line":11,"column":46,"offset":517},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":474},"end":{"line":11,"column":100,"offset":571},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":474},"end":{"line":11,"column":100,"offset":571},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":472},"end":{"line":11,"column":100,"offset":571},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.youtube.com/playlist?list=PLRqwX-V7Uu6bJM3VgzjNV5YxVxUwzALHV","children":[{"type":"text","value":"Genetic Algorithm playlist The Nature of Code","position":{"start":{"line":12,"column":4,"offset":575},"end":{"line":12,"column":49,"offset":620},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":574},"end":{"line":12,"column":124,"offset":695},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":574},"end":{"line":12,"column":124,"offset":695},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":572},"end":{"line":12,"column":124,"offset":695},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":359},"end":{"line":12,"column":124,"offset":695},"indent":[1,1]}},{"type":"thematicBreak","position":{"start":{"line":14,"column":1,"offset":697},"end":{"line":14,"column":4,"offset":700},"indent":[]}},{"type":"html","value":"<figure class=\"gatsby-resp-image-figure\" style>\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5be65abe88a144658cd3fcb27f25e7f6/9adaa/Evolution_Aquarium_codeflowchart.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 108.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABibAAAYmwFJdYOUAAAC8UlEQVQ4y51U2WoUQRSd7/MXfBR89Ck+KQjig1ER8xDUaDCISVxCAjHBJIJIjCLiBlFQIyYzPTOZpbun1+rqpep4q2pmMkkmcblw6K361q1zzr0lDAkpJY6K476pKPUW9Raaq0TCJWpNgbYr0LSFvvcCob/11g+i92/pqN3VLU8lslxCCIlCSBxXXO/fQxUmSYIg8MHpqkIl80NBkAgigaIokOf7IYTYX6FJaHaKohCNRhNhGOp3YSxxbZLhzKUIN2ci2I4Hq+ahtmtg1ToIo+zwkXsV0oZgHHRUUDWmqpHRCCdO+7h8h0HkIbZ3yrAsi1CB53lUJfrcHj4yF2CJ1FD8RUzi9qME52/EmH6aECUcjWaAZstHqx3A9bj+Z0iFZhdFR5zmWgR173oC9+YTXJ9ieLjMUN+1UbZcVKoKDrbLNqI4H8ahqVCRHjDWX6AqnF/juDXLsLqR0nfAdhladgi3wxCTdmkmjz4y5xyu7+Pg+8FnBdHFEB8ahXsQVELMk/6CmLicXeJ4tp7q7w5VZTshHDdCx2O6AbK+KORD5bM49hGHbcSRZ6okqSWMoTvUHTOUcPFFQvbgqNY9zV/ZcrBL4tguJwGL/Ry+/pjiwpiHd5scy+sJTo4EeLLCjS/Jh1MLnHikhCFD2441h04XbUdVeSDh158FHiym+L6TY/09x9mrAdZIABWqwlPnQlwc9xF4NZQrFVSrFqGCWs1CvV6jFh1Qefj0yLuKGz9eucu0dXjCNHeOqxRWUDzGXZUPiJLlAilxlypR0kwrqBJ2fIHJuQRzq6keFo1WTO1mPNiyGfxI6vcDtjEJlZlVsoLcLOSe83Pqls0fObbKahAI4jQFY5lGzNQmQm/cT6iUNFH0RVh4nuLNpwx/H3vDRYvy7VeB6eUEX7Zy3Rlj9xnZJO2PLw05fLDuGXugU95+TjE6EWDjA6fpIjE+zbD0Mh3aLX+Kklmrjhfqq0o48TjByqv/TNg7v5ospv3M2DJE/3vC3/HcnqBnGmhSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Evolution Aquerium Codeflow Visualized (click to enlarge)\" title=\"Evolution Aquerium Codeflow Visualized (click to enlarge)\" src=\"/static/5be65abe88a144658cd3fcb27f25e7f6/799d3/Evolution_Aquarium_codeflowchart.png\" srcset=\"/static/5be65abe88a144658cd3fcb27f25e7f6/00d96/Evolution_Aquarium_codeflowchart.png 148w,\n/static/5be65abe88a144658cd3fcb27f25e7f6/0b23c/Evolution_Aquarium_codeflowchart.png 295w,\n/static/5be65abe88a144658cd3fcb27f25e7f6/799d3/Evolution_Aquarium_codeflowchart.png 590w,\n/static/5be65abe88a144658cd3fcb27f25e7f6/2a3d6/Evolution_Aquarium_codeflowchart.png 885w,\n/static/5be65abe88a144658cd3fcb27f25e7f6/ae92f/Evolution_Aquarium_codeflowchart.png 1180w,\n/static/5be65abe88a144658cd3fcb27f25e7f6/9adaa/Evolution_Aquarium_codeflowchart.png 1580w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Evolution Aquerium Codeflow Visualized (click to enlarge)</figcaption>\n  </figure>","position":{"start":{"line":16,"column":1,"offset":702},"end":{"line":16,"column":117,"offset":818},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#AgentBuilder-Class","title":null,"children":[],"data":{"hProperties":{"aria-label":"AgentBuilder Class permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"AgentBuilder Class","position":{"start":{"line":18,"column":4,"offset":823},"end":{"line":18,"column":22,"offset":841},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":820},"end":{"line":18,"column":22,"offset":841},"indent":[]},"data":{"id":"AgentBuilder-Class","htmlAttributes":{"id":"AgentBuilder-Class"},"hProperties":{"id":"AgentBuilder-Class"}}},{"type":"paragraph","children":[{"type":"text","value":"I make use of the \"builder\" pattern to create different varieties of creatures with different traits. And AgentBuilder class helps me do this easily see how it works.","position":{"start":{"line":20,"column":1,"offset":843},"end":{"line":20,"column":167,"offset":1009},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":843},"end":{"line":20,"column":167,"offset":1009},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://medium.com/@axelhadfeg/builder-pattern-using-javascript-and-es6-ec1539182e24","children":[{"type":"text","value":"Learn more how builder pattern works","position":{"start":{"line":22,"column":4,"offset":1014},"end":{"line":22,"column":40,"offset":1050},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":1013},"end":{"line":22,"column":127,"offset":1137},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":1013},"end":{"line":22,"column":127,"offset":1137},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1011},"end":{"line":22,"column":127,"offset":1137},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">AgentBuilder</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>acc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> type\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setPos</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setRadius</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r <span class=\"token operator\">=</span> <span class=\"token number\">5</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">=</span> r\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">color</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">setDNA</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dna</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dna <span class=\"token operator\">=</span> dna\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ... more setFunctions</span>\n\n  <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// returns a new BaseAgent based on the values</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BaseAgent</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dna<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":24,"column":1,"offset":1139},"end":{"line":61,"column":4,"offset":1752},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And now, the builder pattern is ready to be used. Let us see how we can build creatures with different traits.","position":{"start":{"line":63,"column":1,"offset":1754},"end":{"line":63,"column":111,"offset":1864},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1754},"end":{"line":63,"column":111,"offset":1864},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// later on</span>\n<span class=\"token keyword\">let</span> Predator <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AgentBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PREDATOR\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setRadius</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setMaxSpeed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setMaxForce</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.05</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setHealthDecrease</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.002</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setFoodMultiplier</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> Avoider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AgentBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AVOIDER\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setRadius</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setMaxRadius</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setMaxSpeed</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setMaxForce</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setHealthDecrease</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.003</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">165</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">setFoodMultiplier</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":65,"column":1,"offset":1866},"end":{"line":83,"column":4,"offset":2279},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#BaseAgent-Class","title":null,"children":[],"data":{"hProperties":{"aria-label":"BaseAgent Class permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"BaseAgent Class","position":{"start":{"line":85,"column":4,"offset":2284},"end":{"line":85,"column":19,"offset":2299},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":2281},"end":{"line":85,"column":19,"offset":2299},"indent":[]},"data":{"id":"BaseAgent-Class","htmlAttributes":{"id":"BaseAgent-Class"},"hProperties":{"id":"BaseAgent-Class"}}},{"type":"paragraph","children":[{"type":"text","value":"BaseAgent class handles all the logic for the update, render, and physics, it's the heart of the codebase. the basic idea is to give each ","position":{"start":{"line":87,"column":1,"offset":2301},"end":{"line":87,"column":139,"offset":2439},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">agent</code>","position":{"start":{"line":87,"column":139,"offset":2439},"end":{"line":87,"column":146,"offset":2446},"indent":[]}},{"type":"text","value":" some essential traits like ","position":{"start":{"line":87,"column":146,"offset":2446},"end":{"line":87,"column":174,"offset":2474},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">health</code>","position":{"start":{"line":87,"column":174,"offset":2474},"end":{"line":87,"column":182,"offset":2482},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":87,"column":182,"offset":2482},"end":{"line":87,"column":184,"offset":2484},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">radius</code>","position":{"start":{"line":87,"column":184,"offset":2484},"end":{"line":87,"column":192,"offset":2492},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":87,"column":192,"offset":2492},"end":{"line":87,"column":194,"offset":2494},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">maxSpeed</code>","position":{"start":{"line":87,"column":194,"offset":2494},"end":{"line":87,"column":204,"offset":2504},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":87,"column":204,"offset":2504},"end":{"line":87,"column":206,"offset":2506},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">maxSpeed</code>","position":{"start":{"line":87,"column":206,"offset":2506},"end":{"line":87,"column":216,"offset":2516},"indent":[]}},{"type":"text","value":" etc etc.","position":{"start":{"line":87,"column":216,"offset":2516},"end":{"line":87,"column":225,"offset":2525},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":2301},"end":{"line":87,"column":225,"offset":2525},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"see the full BaseAgent class's ","position":{"start":{"line":89,"column":3,"offset":2529},"end":{"line":89,"column":34,"offset":2560},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L15","children":[{"type":"text","value":"code at github","position":{"start":{"line":89,"column":35,"offset":2561},"end":{"line":89,"column":49,"offset":2575},"indent":[]}}],"position":{"start":{"line":89,"column":34,"offset":2560},"end":{"line":89,"column":136,"offset":2662},"indent":[]}}],"position":{"start":{"line":89,"column":3,"offset":2529},"end":{"line":89,"column":136,"offset":2662},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":2527},"end":{"line":89,"column":136,"offset":2662},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">BaseAgent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">,</span> dna<span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">,</span> builder</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// for flocking behaviour</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>acc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">// i used builder pattern to create more variaty agents easily</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>builder <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> builder <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>builder <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// traits</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">=</span> radius <span class=\"token operator\">||</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>maxSpeed <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>maxSpeed <span class=\"token operator\">||</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>maxForce <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>maxForce <span class=\"token operator\">||</span> <span class=\"token number\">0.05</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// amout of health will decrease over time</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>healthDecrease <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>healthDecrease <span class=\"token operator\">||</span> <span class=\"token number\">0.003</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// amount of health will increase after eating food</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>goodFoodMultiplier <span class=\"token operator\">||</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// amount of health will decrease after eating poison</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>badFoodMultiplier <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>badFoodMultiplier <span class=\"token operator\">||</span> <span class=\"token operator\">-</span><span class=\"token number\">0.4</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hasReproduced <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// randomly choose male or female</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token string\">'MALE'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'FEMALE'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// females will be a bit bigger than male</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>maxRadius <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span>maxRadius <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getGender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'FEMALE'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token number\">15</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// more code in between...</span>\n\n    <span class=\"token comment\">// colors based on their gender</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getGender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'MALE'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">170</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getGender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'FEMALE'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">39</span><span class=\"token punctuation\">,</span> <span class=\"token number\">201</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":91,"column":1,"offset":2664},"end":{"line":130,"column":4,"offset":4051},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Later on, I also gave them names, haha yes","position":{"start":{"line":132,"column":1,"offset":4053},"end":{"line":132,"column":43,"offset":4095},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":4053},"end":{"line":132,"column":43,"offset":4095},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">let</span> names_female <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">'hanna'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mona'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cutie'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'sweety'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sofia'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rose'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'laisy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'daisy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'mia'</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> names_male <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">'joe'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'jim'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'kim'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'keo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'shaun'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'morgan'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'jery'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tom'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'anu'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'brian'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ninja'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'daniel'</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// names based on gender</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getGender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">'MALE'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRandomName</span><span class=\"token punctuation\">(</span>names_male<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRandomName</span><span class=\"token punctuation\">(</span>names_female<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":134,"column":1,"offset":4097},"end":{"line":151,"column":4,"offset":4484},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And now, let's talk only about the main meat of the code, not any other unnecessary code.\nso in the base class we have some methods","position":{"start":{"line":153,"column":1,"offset":4486},"end":{"line":154,"column":42,"offset":4617},"indent":[1]}}],"position":{"start":{"line":153,"column":1,"offset":4486},"end":{"line":154,"column":42,"offset":4617},"indent":[1]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L235","children":[{"type":"text","value":"applyFlock()","position":{"start":{"line":156,"column":4,"offset":4622},"end":{"line":156,"column":16,"offset":4634},"indent":[]}}],"position":{"start":{"line":156,"column":3,"offset":4621},"end":{"line":156,"column":104,"offset":4722},"indent":[]}}],"position":{"start":{"line":156,"column":3,"offset":4621},"end":{"line":156,"column":104,"offset":4722},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"applies the flocking behavior","position":{"start":{"line":158,"column":3,"offset":4726},"end":{"line":158,"column":32,"offset":4755},"indent":[]}}],"position":{"start":{"line":158,"column":3,"offset":4726},"end":{"line":158,"column":32,"offset":4755},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":4619},"end":{"line":159,"column":1,"offset":4756},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L184","children":[{"type":"text","value":"defineFear()","position":{"start":{"line":160,"column":4,"offset":4760},"end":{"line":160,"column":16,"offset":4772},"indent":[]}}],"position":{"start":{"line":160,"column":3,"offset":4759},"end":{"line":160,"column":104,"offset":4860},"indent":[]}}],"position":{"start":{"line":160,"column":3,"offset":4759},"end":{"line":160,"column":104,"offset":4860},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":4757},"end":{"line":160,"column":104,"offset":4860},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":4619},"end":{"line":160,"column":104,"offset":4860},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The primary function which defines the fear behavior and we can also use this inversely","position":{"start":{"line":162,"column":1,"offset":4862},"end":{"line":162,"column":88,"offset":4949},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":4862},"end":{"line":162,"column":88,"offset":4949},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L271","children":[{"type":"text","value":"eat()","position":{"start":{"line":164,"column":4,"offset":4954},"end":{"line":164,"column":9,"offset":4959},"indent":[]}}],"position":{"start":{"line":164,"column":3,"offset":4953},"end":{"line":164,"column":97,"offset":5047},"indent":[]}}],"position":{"start":{"line":164,"column":3,"offset":4953},"end":{"line":164,"column":97,"offset":5047},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"seeks the nearby food","position":{"start":{"line":166,"column":3,"offset":5051},"end":{"line":166,"column":24,"offset":5072},"indent":[]}}],"position":{"start":{"line":166,"column":3,"offset":5051},"end":{"line":166,"column":24,"offset":5072},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":4951},"end":{"line":167,"column":1,"offset":5073},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L215","children":[{"type":"text","value":"Behaviour()","position":{"start":{"line":168,"column":4,"offset":5077},"end":{"line":168,"column":15,"offset":5088},"indent":[]}}],"position":{"start":{"line":168,"column":3,"offset":5076},"end":{"line":168,"column":103,"offset":5176},"indent":[]}}],"position":{"start":{"line":168,"column":3,"offset":5076},"end":{"line":168,"column":103,"offset":5176},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"applies the force which returns from eat()","position":{"start":{"line":170,"column":3,"offset":5180},"end":{"line":170,"column":45,"offset":5222},"indent":[]}}],"position":{"start":{"line":170,"column":3,"offset":5180},"end":{"line":170,"column":45,"offset":5222},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":5074},"end":{"line":171,"column":1,"offset":5223},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/BaseAgent.js#L320","children":[{"type":"text","value":"reproduce()","position":{"start":{"line":172,"column":4,"offset":5227},"end":{"line":172,"column":15,"offset":5238},"indent":[]}}],"position":{"start":{"line":172,"column":3,"offset":5226},"end":{"line":172,"column":103,"offset":5326},"indent":[]}}],"position":{"start":{"line":172,"column":3,"offset":5226},"end":{"line":172,"column":103,"offset":5326},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Reproduction System checks for male and female agents, and if their radius is greater than 8 and they are close enough to each other, then they can reproduce with their specific DNA and creates a small Agent based on their DNA data and with some mutation.","position":{"start":{"line":174,"column":3,"offset":5330},"end":{"line":174,"column":258,"offset":5585},"indent":[]}}],"position":{"start":{"line":174,"column":3,"offset":5330},"end":{"line":174,"column":258,"offset":5585},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":5224},"end":{"line":174,"column":258,"offset":5585},"indent":[1,1]}}],"position":{"start":{"line":164,"column":1,"offset":4951},"end":{"line":174,"column":258,"offset":5585},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#Flock-Class","title":null,"children":[],"data":{"hProperties":{"aria-label":"Flock Class permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Flock Class","position":{"start":{"line":176,"column":4,"offset":5590},"end":{"line":176,"column":15,"offset":5601},"indent":[]}}],"position":{"start":{"line":176,"column":1,"offset":5587},"end":{"line":176,"column":15,"offset":5601},"indent":[]},"data":{"id":"Flock-Class","htmlAttributes":{"id":"Flock-Class"},"hProperties":{"id":"Flock-Class"}}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/Flock.js","children":[{"type":"text","value":"Flock class","position":{"start":{"line":178,"column":2,"offset":5604},"end":{"line":178,"column":13,"offset":5615},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":5603},"end":{"line":178,"column":92,"offset":5694},"indent":[]}},{"type":"text","value":" takes an agent and do the calculations for flocking behaviors like ","position":{"start":{"line":178,"column":92,"offset":5694},"end":{"line":178,"column":160,"offset":5762},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">separate</code>","position":{"start":{"line":178,"column":160,"offset":5762},"end":{"line":178,"column":170,"offset":5772},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":178,"column":170,"offset":5772},"end":{"line":178,"column":172,"offset":5774},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">align</code>","position":{"start":{"line":178,"column":172,"offset":5774},"end":{"line":178,"column":179,"offset":5781},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":178,"column":179,"offset":5781},"end":{"line":178,"column":181,"offset":5783},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">cohesion</code>","position":{"start":{"line":178,"column":181,"offset":5783},"end":{"line":178,"column":191,"offset":5793},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":178,"column":191,"offset":5793},"end":{"line":178,"column":193,"offset":5795},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">seek</code>","position":{"start":{"line":178,"column":193,"offset":5795},"end":{"line":178,"column":199,"offset":5801},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":178,"column":199,"offset":5801},"end":{"line":178,"column":200,"offset":5802},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":5603},"end":{"line":178,"column":200,"offset":5802},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Flock</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">currentAgent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentAgent <span class=\"token operator\">=</span> currentAgent\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>wandertheta <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">seek</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">_returnSteer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sum</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">wander</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">separate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">agents</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">align</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">agents</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">cohesion</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">agents</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":180,"column":1,"offset":5804},"end":{"line":194,"column":4,"offset":6044},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#EcoSystem-Class","title":null,"children":[],"data":{"hProperties":{"aria-label":"EcoSystem Class permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"EcoSystem Class","position":{"start":{"line":196,"column":4,"offset":6049},"end":{"line":196,"column":19,"offset":6064},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":6046},"end":{"line":196,"column":19,"offset":6064},"indent":[]},"data":{"id":"EcoSystem-Class","htmlAttributes":{"id":"EcoSystem-Class"},"hProperties":{"id":"EcoSystem-Class"}}},{"type":"paragraph","children":[{"type":"text","value":"EcoSystem class manages all the ","position":{"start":{"line":198,"column":1,"offset":6066},"end":{"line":198,"column":33,"offset":6098},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">agents</code>","position":{"start":{"line":198,"column":33,"offset":6098},"end":{"line":198,"column":41,"offset":6106},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":198,"column":41,"offset":6106},"end":{"line":198,"column":46,"offset":6111},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">behaviors</code>","position":{"start":{"line":198,"column":46,"offset":6111},"end":{"line":198,"column":57,"offset":6122},"indent":[]}},{"type":"text","value":", basically it is like a state manager","position":{"start":{"line":198,"column":57,"offset":6122},"end":{"line":198,"column":95,"offset":6160},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":6066},"end":{"line":198,"column":95,"offset":6160},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"it has some methods which are","position":{"start":{"line":200,"column":1,"offset":6162},"end":{"line":200,"column":30,"offset":6191},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":6162},"end":{"line":200,"column":30,"offset":6191},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/EcoSystem.js#L17","children":[{"type":"text","value":"addEntities","position":{"start":{"line":202,"column":4,"offset":6196},"end":{"line":202,"column":15,"offset":6207},"indent":[]}}],"position":{"start":{"line":202,"column":3,"offset":6195},"end":{"line":202,"column":102,"offset":6294},"indent":[]}}],"position":{"start":{"line":202,"column":3,"offset":6195},"end":{"line":202,"column":102,"offset":6294},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"adds all entities to the entities (food, poison) object","position":{"start":{"line":204,"column":3,"offset":6298},"end":{"line":204,"column":58,"offset":6353},"indent":[]}}],"position":{"start":{"line":204,"column":3,"offset":6298},"end":{"line":204,"column":58,"offset":6353},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":6193},"end":{"line":205,"column":1,"offset":6354},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/EcoSystem.js#L28","children":[{"type":"text","value":"registerAgents","position":{"start":{"line":206,"column":4,"offset":6358},"end":{"line":206,"column":18,"offset":6372},"indent":[]}}],"position":{"start":{"line":206,"column":3,"offset":6357},"end":{"line":206,"column":105,"offset":6459},"indent":[]}}],"position":{"start":{"line":206,"column":3,"offset":6357},"end":{"line":206,"column":105,"offset":6459},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"registers Agents to the state and also creates corresponding Arrays for each of them which you can use by calling ecoSys.groups","position":{"start":{"line":208,"column":3,"offset":6463},"end":{"line":208,"column":130,"offset":6590},"indent":[]}},{"type":"linkReference","identifier":"your_given_name","label":"your_given_name","referenceType":"shortcut","children":[{"type":"text","value":"your","position":{"start":{"line":208,"column":131,"offset":6591},"end":{"line":208,"column":135,"offset":6595},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"given","position":{"start":{"line":208,"column":136,"offset":6596},"end":{"line":208,"column":141,"offset":6601},"indent":[]}}],"position":{"start":{"line":208,"column":135,"offset":6595},"end":{"line":208,"column":142,"offset":6602},"indent":[]}},{"type":"text","value":"name","position":{"start":{"line":208,"column":142,"offset":6602},"end":{"line":208,"column":146,"offset":6606},"indent":[]}}],"position":{"start":{"line":208,"column":130,"offset":6590},"end":{"line":208,"column":147,"offset":6607},"indent":[]}}],"position":{"start":{"line":208,"column":3,"offset":6463},"end":{"line":208,"column":147,"offset":6607},"indent":[]}}],"position":{"start":{"line":206,"column":1,"offset":6355},"end":{"line":209,"column":1,"offset":6608},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/EcoSystem.js#L39","children":[{"type":"text","value":"initialPopulation","position":{"start":{"line":210,"column":4,"offset":6612},"end":{"line":210,"column":21,"offset":6629},"indent":[]}}],"position":{"start":{"line":210,"column":3,"offset":6611},"end":{"line":210,"column":108,"offset":6716},"indent":[]}}],"position":{"start":{"line":210,"column":3,"offset":6611},"end":{"line":210,"column":108,"offset":6716},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"initializes the groups of population by the given amount","position":{"start":{"line":212,"column":3,"offset":6720},"end":{"line":212,"column":59,"offset":6776},"indent":[]}}],"position":{"start":{"line":212,"column":3,"offset":6720},"end":{"line":212,"column":59,"offset":6776},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":6609},"end":{"line":213,"column":1,"offset":6777},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/EcoSystem.js#L98","children":[{"type":"text","value":"addBehavior","position":{"start":{"line":214,"column":4,"offset":6781},"end":{"line":214,"column":15,"offset":6792},"indent":[]}}],"position":{"start":{"line":214,"column":3,"offset":6780},"end":{"line":214,"column":102,"offset":6879},"indent":[]}}],"position":{"start":{"line":214,"column":3,"offset":6780},"end":{"line":214,"column":102,"offset":6879},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"specifies the behavior of the agent declaratively","position":{"start":{"line":216,"column":3,"offset":6883},"end":{"line":216,"column":52,"offset":6932},"indent":[]}}],"position":{"start":{"line":216,"column":3,"offset":6883},"end":{"line":216,"column":52,"offset":6932},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":6778},"end":{"line":217,"column":1,"offset":6933},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/anuraghazra/EvolutionAquerium/blob/master/src/js/EcoSystem.js#L150","children":[{"type":"text","value":"batchUpdateAgents","position":{"start":{"line":218,"column":4,"offset":6937},"end":{"line":218,"column":21,"offset":6954},"indent":[]}}],"position":{"start":{"line":218,"column":3,"offset":6936},"end":{"line":218,"column":109,"offset":7042},"indent":[]}}],"position":{"start":{"line":218,"column":3,"offset":6936},"end":{"line":218,"column":109,"offset":7042},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"updates all the agents","position":{"start":{"line":220,"column":3,"offset":7046},"end":{"line":220,"column":25,"offset":7068},"indent":[]}}],"position":{"start":{"line":220,"column":3,"offset":7046},"end":{"line":220,"column":25,"offset":7068},"indent":[]}}],"position":{"start":{"line":218,"column":1,"offset":6934},"end":{"line":220,"column":25,"offset":7068},"indent":[1,1]}}],"position":{"start":{"line":202,"column":1,"offset":6193},"end":{"line":220,"column":25,"offset":7068},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">EcoSystem</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>groups <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// agents</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>entities <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// generic container (food, poison)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>agents <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// agent classes</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>behaviors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// calculated behaviors</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">addEntities</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">names</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">registerAgents</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">agents</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">initialPopulation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">init</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">addBehavior</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">config</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">batchUpdateAgents</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list<span class=\"token punctuation\">,</span> foodPoison<span class=\"token punctuation\">,</span> weight<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":222,"column":1,"offset":7070},"end":{"line":237,"column":4,"offset":7463},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#Setting-up-everything","title":null,"children":[],"data":{"hProperties":{"aria-label":"Setting up everything permalink","class":"gatsby-remark-autolink"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Setting up everything","position":{"start":{"line":240,"column":4,"offset":7469},"end":{"line":240,"column":25,"offset":7490},"indent":[]}}],"position":{"start":{"line":240,"column":1,"offset":7466},"end":{"line":240,"column":25,"offset":7490},"indent":[]},"data":{"id":"Setting-up-everything","htmlAttributes":{"id":"Setting-up-everything"},"hProperties":{"id":"Setting-up-everything"}}},{"type":"paragraph","children":[{"type":"text","value":"And the last step is to assemble every part of the code to create these boids like creatures and gave each of them behaviors","position":{"start":{"line":242,"column":1,"offset":7492},"end":{"line":242,"column":125,"offset":7616},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":7492},"end":{"line":242,"column":125,"offset":7616},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// Global</span>\n<span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#c'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> <span class=\"token constant\">WIDTH</span> <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> <span class=\"token constant\">HEIGHT</span> <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">600</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">let</span> <span class=\"token constant\">MAX_CREATURES</span> <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">REPRODUCTION_RATE</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ENABLE_SUPER_DEBUG</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// constants for flexibilty</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">CREATURE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CREATURE'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PREDATOR</span> <span class=\"token operator\">=</span> <span class=\"token string\">'PREDATOR'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">AVOIDER</span> <span class=\"token operator\">=</span> <span class=\"token string\">'AVOIDER'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">EATER</span> <span class=\"token operator\">=</span> <span class=\"token string\">'EATER'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">FOOD</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FOOD'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">POISON</span> <span class=\"token operator\">=</span> <span class=\"token string\">'POISON'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> ecoSys <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EcoSystem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// creates a Array which you can access with ecoSys.entities </span>\n  ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">addEntities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">FOOD</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">POISON</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// register classes it will also create corresponding Arrays</span>\n  <span class=\"token comment\">// which you can use by calling ecoSys.groups[your_given_name]</span>\n  ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">registerAgents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">:</span> Agent<span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">:</span> Predator<span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">AVOIDER</span><span class=\"token punctuation\">:</span> Avoider<span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">EATER</span><span class=\"token punctuation\">:</span> Eater<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// initialPopulation have to use the same name</span>\n  <span class=\"token comment\">// which you configure in registerAgents</span>\n  ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">initialPopulation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">:</span> <span class=\"token function\">randomInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">AVOIDER</span><span class=\"token punctuation\">:</span> <span class=\"token function\">randomInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">EATER</span><span class=\"token punctuation\">:</span> <span class=\"token function\">randomInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> add <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'addnew'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>add<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>offsetY<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">//  ANIMATE LOOP</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> grd <span class=\"token operator\">=</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">createRadialGradient</span><span class=\"token punctuation\">(</span><span class=\"token constant\">WIDTH</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">HEIGHT</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WIDTH</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">HEIGHT</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WIDTH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grd<span class=\"token punctuation\">.</span><span class=\"token function\">addColorStop</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rgba(25,25,25,1)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    grd<span class=\"token punctuation\">.</span><span class=\"token function\">addColorStop</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rgba(0,0,25,1)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Fill with gradient</span>\n    ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> grd<span class=\"token punctuation\">;</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WIDTH</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">HEIGHT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * likes food dislikes poison\n     * run away form predators and eaters\n     * cloneItSelf\n     */</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">addBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">,</span>\n      like<span class=\"token punctuation\">:</span> <span class=\"token constant\">FOOD</span><span class=\"token punctuation\">,</span>\n      dislike<span class=\"token punctuation\">:</span> <span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span>\n      fear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">75</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">EATER</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      cloneItSelf<span class=\"token punctuation\">:</span> <span class=\"token number\">0.0015</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ecoSys<span class=\"token punctuation\">.</span>groups<span class=\"token punctuation\">.</span><span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token constant\">MAX_CREATURES</span>\n          <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">REPRODUCTION_RATE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">reproduce</span><span class=\"token punctuation\">(</span>ecoSys<span class=\"token punctuation\">.</span>groups<span class=\"token punctuation\">.</span><span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * likes poison dislikes food\n     * seeks and eats creatures\n     * run away from eaters\n     */</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">addBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">,</span>\n      like<span class=\"token punctuation\">:</span> <span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span>\n      dislike<span class=\"token punctuation\">:</span> <span class=\"token constant\">FOOD</span><span class=\"token punctuation\">,</span>\n      likeDislikeWeight<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      fear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">EATER</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">agents<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          agents<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * likes food dislikes poison\n     * run away form predators, eaters, creatures\n     */</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">addBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token constant\">AVOIDER</span><span class=\"token punctuation\">,</span>\n      like<span class=\"token punctuation\">:</span> <span class=\"token constant\">FOOD</span><span class=\"token punctuation\">,</span>\n      dislike<span class=\"token punctuation\">:</span> <span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span>\n      cloneItSelf<span class=\"token punctuation\">:</span> <span class=\"token number\">0.0005</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// likeDislikeWeight: [1, -1],</span>\n      fear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">EATER</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>badFoodMultiplier<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">/**\n     * likes poison\n     * emits food as waste compound\n     * seeks creatures, predators, avoiders and EATS THEM\n     */</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">addBehavior</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token constant\">EATER</span><span class=\"token punctuation\">,</span>\n      like<span class=\"token punctuation\">:</span> <span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span>\n      dislike<span class=\"token punctuation\">:</span> <span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span>\n      likeDislikeWeight<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      fear<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">CREATURE</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          list<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">PREDATOR</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          list<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">AVOIDER</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">list<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          list<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>health <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>goodFoodMultiplier<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">callback</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.05</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span>ecoSys<span class=\"token punctuation\">.</span>entities<span class=\"token punctuation\">.</span><span class=\"token constant\">FOOD</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// UPDATE &amp; RENDER</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    ecoSys<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">renderItem</span><span class=\"token punctuation\">(</span>ecoSys<span class=\"token punctuation\">.</span>entities<span class=\"token punctuation\">.</span><span class=\"token constant\">FOOD</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">renderItem</span><span class=\"token punctuation\">(</span>ecoSys<span class=\"token punctuation\">.</span>entities<span class=\"token punctuation\">.</span><span class=\"token constant\">POISON</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'crimson'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>animate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\nwindow<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> load<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":244,"column":1,"offset":7618},"end":{"line":414,"column":4,"offset":11897},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And that's it, phew, that was a lot of work. But in the end, we have beautiful flocking creatures playing around and interacting with each other. have fun watching them all day. <3","position":{"start":{"line":417,"column":1,"offset":11900},"end":{"line":417,"column":181,"offset":12080},"indent":[]}}],"position":{"start":{"line":417,"column":1,"offset":11900},"end":{"line":417,"column":181,"offset":12080},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":417,"column":181,"offset":12080}}}}
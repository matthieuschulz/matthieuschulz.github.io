{"expireTime":9007200854694132000,"key":"transformer-remark-markdown-html-ast-ba839f8c293db77afd36331489d17fd7-gatsby-remark-embeddergatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-imagesgatsby-plugin-social-banners-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While I was building my physics engine ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":40,"offset":40}}},{"type":"element","tagName":"a","properties":{"href":"http://anuraghazra.github.io/Verly.js"},"children":[{"type":"text","value":"Verly.js","position":{"start":{"line":2,"column":41,"offset":41},"end":{"line":2,"column":49,"offset":49}}}],"position":{"start":{"line":2,"column":40,"offset":40},"end":{"line":2,"column":89,"offset":89}}},{"type":"text","value":" I was thinking of making something that would showcase the engine's potential to do some exciting stuff, so I created this just as an experiment. ","position":{"start":{"line":2,"column":89,"offset":89},"end":{"line":2,"column":236,"offset":236}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":236,"offset":236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"so far VerlyRangeSlider got over ","position":{"start":{"line":5,"column":3,"offset":241},"end":{"line":5,"column":36,"offset":274}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"18K Views","position":{"start":{"line":5,"column":38,"offset":276},"end":{"line":5,"column":47,"offset":285}}}],"position":{"start":{"line":5,"column":36,"offset":274},"end":{"line":5,"column":49,"offset":287}}},{"type":"text","value":" on ","position":{"start":{"line":5,"column":49,"offset":287},"end":{"line":5,"column":53,"offset":291}}},{"type":"element","tagName":"a","properties":{"href":"https://codepen.io/anuraghazra/pen/agKJEd"},"children":[{"type":"text","value":"Codepen","position":{"start":{"line":5,"column":54,"offset":292},"end":{"line":5,"column":61,"offset":299}}}],"position":{"start":{"line":5,"column":53,"offset":291},"end":{"line":5,"column":105,"offset":343}}}],"position":{"start":{"line":5,"column":1,"offset":239},"end":{"line":5,"column":105,"offset":343}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"got mentioned in ","position":{"start":{"line":6,"column":3,"offset":346},"end":{"line":6,"column":20,"offset":363}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://codepen.io/spark/136"},"children":[{"type":"text","value":"CodepenSpark #136","position":{"start":{"line":6,"column":23,"offset":366},"end":{"line":6,"column":40,"offset":383}}}],"position":{"start":{"line":6,"column":22,"offset":365},"end":{"line":6,"column":71,"offset":414}}}],"position":{"start":{"line":6,"column":20,"offset":363},"end":{"line":6,"column":73,"offset":416}}}],"position":{"start":{"line":6,"column":1,"offset":344},"end":{"line":6,"column":73,"offset":416}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"showcased in ","position":{"start":{"line":7,"column":3,"offset":419},"end":{"line":7,"column":16,"offset":432}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://justforfun.io/post/verly-range-slider"},"children":[{"type":"text","value":"justforfun.io","position":{"start":{"line":7,"column":19,"offset":435},"end":{"line":7,"column":32,"offset":448}}}],"position":{"start":{"line":7,"column":18,"offset":434},"end":{"line":7,"column":80,"offset":496}}}],"position":{"start":{"line":7,"column":16,"offset":432},"end":{"line":7,"column":82,"offset":498}}}],"position":{"start":{"line":7,"column":1,"offset":417},"end":{"line":7,"column":82,"offset":498}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"and ","position":{"start":{"line":8,"column":3,"offset":501},"end":{"line":8,"column":7,"offset":505}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"40 stars","position":{"start":{"line":8,"column":9,"offset":507},"end":{"line":8,"column":17,"offset":515}}}],"position":{"start":{"line":8,"column":7,"offset":505},"end":{"line":8,"column":19,"offset":517}}},{"type":"text","value":" on Github","position":{"start":{"line":8,"column":19,"offset":517},"end":{"line":8,"column":29,"offset":527}}}],"position":{"start":{"line":8,"column":1,"offset":499},"end":{"line":8,"column":29,"offset":527}}},{"type":"text","value":"\n"}],"position":{"start":{"line":5,"column":1,"offset":239},"end":{"line":8,"column":29,"offset":527}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"How-It-Works"},"children":[{"type":"element","tagName":"a","properties":{"href":"#How-It-Works","aria-label":"How It Works permalink","class":"gatsby-remark-autolink"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How It Works?","position":{"start":{"line":10,"column":4,"offset":532},"end":{"line":10,"column":17,"offset":545}}}],"position":{"start":{"line":10,"column":1,"offset":529},"end":{"line":10,"column":17,"offset":545}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It works by using Verly.js's ","position":{"start":{"line":12,"column":1,"offset":547},"end":{"line":12,"column":30,"offset":576}}},{"type":"raw","value":"<code class=\"language-text\">verly.createRope(x, y, segments, gap, pin)</code>","position":{"start":{"line":12,"column":30,"offset":576},"end":{"line":12,"column":74,"offset":620}}},{"type":"text","value":" function which takes arguments - ","position":{"start":{"line":12,"column":74,"offset":620},"end":{"line":12,"column":108,"offset":654}}},{"type":"raw","value":"<code class=\"language-text\">x</code>","position":{"start":{"line":12,"column":108,"offset":654},"end":{"line":12,"column":111,"offset":657}}},{"type":"text","value":" and ","position":{"start":{"line":12,"column":111,"offset":657},"end":{"line":12,"column":116,"offset":662}}},{"type":"raw","value":"<code class=\"language-text\">y</code>","position":{"start":{"line":12,"column":116,"offset":662},"end":{"line":12,"column":119,"offset":665}}},{"type":"text","value":" for location of the rope, ","position":{"start":{"line":12,"column":119,"offset":665},"end":{"line":12,"column":146,"offset":692}}},{"type":"raw","value":"<code class=\"language-text\">segments</code>","position":{"start":{"line":12,"column":146,"offset":692},"end":{"line":12,"column":156,"offset":702}}},{"type":"text","value":" which determines the dots count in the rope (more dots, more fluid rope), ","position":{"start":{"line":12,"column":156,"offset":702},"end":{"line":12,"column":231,"offset":777}}},{"type":"raw","value":"<code class=\"language-text\">gap</code>","position":{"start":{"line":12,"column":231,"offset":777},"end":{"line":12,"column":236,"offset":782}}},{"type":"text","value":" which specifies the distance between each dot (more gap, longer rope), and lastly ","position":{"start":{"line":12,"column":236,"offset":782},"end":{"line":12,"column":319,"offset":865}}},{"type":"raw","value":"<code class=\"language-text\">pin</code>","position":{"start":{"line":12,"column":319,"offset":865},"end":{"line":12,"column":324,"offset":870}}},{"type":"text","value":" which just pins the defined point.","position":{"start":{"line":12,"column":324,"offset":870},"end":{"line":12,"column":359,"offset":905}}}],"position":{"start":{"line":12,"column":1,"offset":547},"end":{"line":12,"column":359,"offset":905}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I created a ","position":{"start":{"line":16,"column":3,"offset":911},"end":{"line":16,"column":15,"offset":923}}},{"type":"raw","value":"<code class=\"language-text\">verly instance</code>","position":{"start":{"line":16,"column":15,"offset":923},"end":{"line":16,"column":31,"offset":939}}},{"type":"text","value":" for every input slider present on the screen. ","position":{"start":{"line":16,"column":31,"offset":939},"end":{"line":16,"column":78,"offset":986}}}],"position":{"start":{"line":16,"column":3,"offset":911},"end":{"line":16,"column":78,"offset":986}}},{"type":"text","value":"\n"}],"position":{"start":{"line":16,"column":1,"offset":909},"end":{"line":16,"column":78,"offset":986}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">let</span> DOMSlider <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// canvas width is equal to the slider's width </span>\n<span class=\"token keyword\">let</span> width <span class=\"token operator\">=</span> DOMSlider<span class=\"token punctuation\">.</span>scrollWidth<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> height <span class=\"token operator\">=</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\ncanvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> width<span class=\"token punctuation\">;</span>\ncanvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> height<span class=\"token punctuation\">;</span>\ncanvas<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>pointerEvents <span class=\"token operator\">=</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// offsetting the position so its lines up</span>\ncanvas<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token string\">'translate(0, -15px)'</span><span class=\"token punctuation\">;</span>\nDOMSlider<span class=\"token punctuation\">.</span>parentElement<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// -- then initialized verly</span>\n<span class=\"token comment\">// new Verly(iteration, canvas, ctx)</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">let</span> verly <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Verly</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token comment\">// added some gravity</span>\n<span class=\"token keyword\">const</span> gravity <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":18,"column":1,"offset":988},"end":{"line":39,"column":4,"offset":1622}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"after that, I created the rope with","position":{"start":{"line":41,"column":1,"offset":1624},"end":{"line":41,"column":36,"offset":1659}}}],"position":{"start":{"line":41,"column":1,"offset":1624},"end":{"line":41,"column":36,"offset":1659}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// width / 20 to adjust the segments depending on the screen size</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">let</span> rope <span class=\"token operator\">=</span> verly<span class=\"token punctuation\">.</span><span class=\"token function\">createRope</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">/</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token keyword\">let</span> lastIndex <span class=\"token operator\">=</span> rope<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\nrope<span class=\"token punctuation\">.</span><span class=\"token function\">setGravity</span><span class=\"token punctuation\">(</span>gravity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// i pinned the last dot of the rope</span>\nrope<span class=\"token punctuation\">.</span><span class=\"token function\">pin</span><span class=\"token punctuation\">(</span>lastIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":43,"column":1,"offset":1661},"end":{"line":51,"column":4,"offset":1919}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"Getting-the-sliders-position-and-applying-it-to-the-rope"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Getting-the-sliders-position-and-applying-it-to-the-rope","aria-label":"Getting the sliders position and applying it to the rope permalink","class":"gatsby-remark-autolink"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Getting the slider's position and applying it to the rope","position":{"start":{"line":53,"column":6,"offset":1926},"end":{"line":53,"column":63,"offset":1983}}}],"position":{"start":{"line":53,"column":1,"offset":1921},"end":{"line":53,"column":63,"offset":1983}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"now the actual part where I fix the last dot's position with the slider's thumb.\nTo do this,\nWe will take the slider's ","position":{"start":{"line":54,"column":1,"offset":1984},"end":{"line":56,"column":27,"offset":2103}}},{"type":"raw","value":"<code class=\"language-text\">value</code>","position":{"start":{"line":56,"column":27,"offset":2103},"end":{"line":56,"column":34,"offset":2110}}},{"type":"text","value":" and normalize it, so it's between 0 and 1 then multiply the value with the width to get the slider's thumb position. ","position":{"start":{"line":56,"column":34,"offset":2110},"end":{"line":56,"column":152,"offset":2228}}}],"position":{"start":{"line":54,"column":1,"offset":1984},"end":{"line":56,"column":152,"offset":2228}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(yeah i did not bother to use shadowDOM because of browser compatibility and vendor issues) ","position":{"start":{"line":58,"column":1,"offset":2230},"end":{"line":58,"column":93,"offset":2322}}}],"position":{"start":{"line":58,"column":1,"offset":2230},"end":{"line":58,"column":93,"offset":2322}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">setRopePosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// get the normalized value of the slider</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">let</span> ratio <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DOMSlider<span class=\"token punctuation\">.</span>value <span class=\"token operator\">-</span> DOMSlider<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>DOMSlider<span class=\"token punctuation\">.</span>max <span class=\"token operator\">-</span> DOMSlider<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  <span class=\"token comment\">// then just apply it to the last dot of the rope</span>\n  rope<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">[</span>rope<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// and use event listener</span>\nDOMSlider<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span> setRopePosition<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":60,"column":1,"offset":2324},"end":{"line":69,"column":4,"offset":2690}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Okay, this works!\nBut I noticed something weird behavior with this.","position":{"start":{"line":71,"column":1,"offset":2692},"end":{"line":72,"column":50,"offset":2759}}}],"position":{"start":{"line":71,"column":1,"offset":2692},"end":{"line":72,"column":50,"offset":2759}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The problem was, for some reason (probably floating point precision) the slider's position was offsetting a bit while moving towards the edge, so I had to think some ways to prevent this. then I ended up with this solution (yeah crazy but works)","position":{"start":{"line":74,"column":1,"offset":2761},"end":{"line":74,"column":246,"offset":3006}}}],"position":{"start":{"line":74,"column":1,"offset":2761},"end":{"line":74,"column":246,"offset":3006}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">setRopePosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> ratio <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DOMSlider<span class=\"token punctuation\">.</span>value <span class=\"token operator\">-</span> DOMSlider<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>DOMSlider<span class=\"token punctuation\">.</span>max <span class=\"token operator\">-</span> DOMSlider<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// floating point correction</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> ratio <span class=\"token operator\">+=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span> ratio <span class=\"token operator\">+=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">></span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">)</span> ratio <span class=\"token operator\">-=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">></span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span> ratio <span class=\"token operator\">-=</span> <span class=\"token number\">0.02</span><span class=\"token punctuation\">;</span></span>\n  rope<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">[</span>rope<span class=\"token punctuation\">.</span>points<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>pos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>ratio <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":76,"column":1,"offset":3008},"end":{"line":89,"column":4,"offset":3370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"nice!","position":{"start":{"line":91,"column":1,"offset":3372},"end":{"line":91,"column":6,"offset":3377}}}],"position":{"start":{"line":91,"column":1,"offset":3372},"end":{"line":91,"column":6,"offset":3377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"now we can render the scene and update the physics.","position":{"start":{"line":93,"column":1,"offset":3379},"end":{"line":93,"column":52,"offset":3430}}}],"position":{"start":{"line":93,"column":1,"offset":3379},"end":{"line":93,"column":52,"offset":3430}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  verly<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// rendering the rope</span>\n  rope<span class=\"token punctuation\">.</span><span class=\"token function\">renderSticks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>animate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":95,"column":1,"offset":3432},"end":{"line":106,"column":4,"offset":3616}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"and we are done!","position":{"start":{"line":108,"column":1,"offset":3618},"end":{"line":108,"column":17,"offset":3634}}}],"position":{"start":{"line":108,"column":1,"offset":3618},"end":{"line":108,"column":17,"offset":3634}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"hopefully, you enjoyed playing with this project, I know because I did.\nyou can give the project a star on GitHub if you liked it, have a beautiful day (or night)","position":{"start":{"line":111,"column":3,"offset":3639},"end":{"line":112,"column":93,"offset":3804}}}],"position":{"start":{"line":111,"column":3,"offset":3639},"end":{"line":112,"column":93,"offset":3804}}},{"type":"text","value":"\n"}],"position":{"start":{"line":111,"column":1,"offset":3637},"end":{"line":112,"column":93,"offset":3804}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":112,"column":93,"offset":3804}}}}